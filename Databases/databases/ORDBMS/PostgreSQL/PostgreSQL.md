---
tags:
- postgresql
- ordbms
- ordb
- database
---
---

### Объектно-реляционная база данных
PostgreSQL является объектно-реляционной БД. Это значит, что можно создавать свои типы данных определяя их следующим образом.
```PostgreSQL
CREATE TYPE point_3d AS (
    x REAL,
    y REAL,
    z REAL
);
```
### Наследование
Поскольку БД объектно-реляционная, она следует принципам ООП. Механизм наследования позволяет создавать зависимость между таблицами, при которой одна таблица (производная таблица/потомок) наследует атрибуты (столбцы) другой таблицы (родительская таблица/родитель).
Создание таблицы-потомка child на основе таблицы parent:
```PostgreSQL
CREATE TABLE child () INHERITS (parent);
```
###### Пример
```PostgreSQL
CREATE TABLE person (
    id SERIAL PRIMARY KEY,
    first_name VARCHAR(100),
    last_name VARCHAR(100),
    dob DATE
);
```
```PostgreSQL
CREATE TABLE employee ()
    INHERITS (person);
```

### Полиморфизм
Полиморфизм позволяет создавать функции и операторы, которые возвращают разные типы данных, что позволяет работать с множеством типов данных.
Полиморфизм в PostgreSQL поддерживают:
	- полиморфные функции — функции, возвращающие несколько типов данных;
	- полиморфные операторы — то же, что и функции.
Следующая функция принимает тип anyelement и способна принимать любой тип данных, который поддерживает операцию сложения:
```PostgreSQL
CREATE FUNCTION simple_add(x anyelement, y anyelement) RETURNS anyelement
    AS 'SELECT x + y;'
    LANGUAGE SQL;
```
